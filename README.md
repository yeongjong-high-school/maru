# maru
## 실행 방법

1.  위의 3개 파일(`index.html`, `style.css`, `script.js`)을 동일한 폴더 (예: `turtle_game_final_version`)에 저장합니다.
2.  웹 브라우저에서 `index.html` 파일을 엽니다.
3.  게임이 로드되면 방향키 또는 WASD 키를 사용하여 플레이합니다.

## 코드 설명

### HTML (`index.html`)

-   게임의 전체적인 레이아웃을 정의합니다.
-   주요 구성 요소:
    -   `#game-container`: 게임 전체를 감싸는 컨테이너입니다.
    -   `#score-board`: 현재 점수를 표시하는 영역입니다.
    -   `#game-area`: 거북이, 리본, 장애물이 나타나는 실제 게임 플레이 영역입니다.
        -   `#myTurtle`: 거북이 요소로, 내부에 등껍질, 머리, 다리, 꼬리 및 성공 시 나타나는 등껍질 위 리본(`ribbon-on-shell`)을 포함합니다.
    -   `.controls`: 게임 조작 방법을 안내하는 텍스트입니다.
    -   `#game-over-screen`: 게임 오버 시 나타나는 화면입니다.
    -   `#game-success-screen`: 게임 성공 시 나타나는 화면입니다.
-   CSS 파일(`style.css`)과 JavaScript 파일(`script.js`)을 로드합니다.

### CSS (`style.css`)

-   게임의 모든 시각적 요소를 스타일링합니다.
-   **주요 스타일 섹션**:
    -   `body`, `#game-container`, `#game-area`: 기본적인 레이아웃 및 배경 스타일.
    -   `.turtle-container` 및 하위 요소 (`.shell`, `.head`, `.eye` 등): 순수 CSS로 거북이의 각 부분을 그림.
    -   `.ribbon`: 게임 중 획득해야 하는 리본 아이템의 스타일 및 나타나고 사라지는 애니메이션.
    -   `.obstacle`: 장애물의 모양과 스타일.
    -   `.ribbon-on-shell`: 게임 성공 시 거북이 머리 앞쪽에 나타나는 작은 리본의 스타일.
    -   `#game-over-screen`, `#game-success-screen`: 각 상황에 맞는 화면의 스타일, 중앙 배치, 버튼 스타일 등.
    -   `.hidden`: 요소를 숨기기 위한 유틸리티 클래스 (`display: none !important;`).

### JavaScript (`script.js`)

게임의 핵심 로직을 담당하며, 다음과 같은 주요 기능들을 구현합니다.

-   **전역 변수 및 상수**: 게임 상태(게임 오버 여부, 점수 등), DOM 요소 참조, 게임 설정값(거북이 속도, 장애물 개수/크기, 목표 점수 등)을 관리합니다.
-   **`initializeGame()`**: 게임 시작 또는 재시작 시 호출되어 모든 변수, 요소 위치, 점수 등을 초기 상태로 설정하고, 장애물과 첫 리본을 생성하며 게임 루프를 시작합니다. 성공/오버 화면 및 등껍질 리본을 숨깁니다.
-   **`isOverlapping(rect1, rect2)`**: 두 사각형 영역이 겹치는지 확인하는 헬퍼 함수입니다.
-   **`createObstacles(count)`**: 지정된 개수만큼 장애물을 생성합니다. 각 장애물은 랜덤 크기와 위치를 가지며, 거북이 시작 위치 및 다른 장애물과 겹치지 않도록 배치됩니다.
-   **`createRibbon()`**: 리본 아이템을 생성합니다. 거북이 현재 위치 및 장애물과 겹치지 않는 랜덤한 위치에 배치됩니다. CSS 애니메이션을 위해 `.visible` 클래스를 추가합니다.
-   **`collectRibbon()`**: 거북이가 리본을 획득했을 때 호출됩니다. 점수를 업데이트하고, 획득한 리본에 사라지는 애니메이션을 적용한 후 DOM에서 제거하고 새 리본을 생성합니다.
-   **`updateScore()`**: 점수를 1 증가시키고 화면에 업데이트합니다. 목표 점수 달성 시 `gameSuccess()`를 호출합니다.
-   **`gameSuccess()`**: 목표 점수 달성 시 호출됩니다. 게임을 정지시키고, 거북이 머리 앞에 리본을 표시하며, 성공 화면을 보여줍니다. 거북이는 성공 화면 위쪽에 재배치됩니다.
-   **`endGame()`**: 벽이나 장애물에 충돌했을 때 호출됩니다. 게임을 정지시키고, 게임 오버 화면을 표시합니다.
-   **`gameLoop()`**: `requestAnimationFrame`을 사용하여 매 프레임 호출되는 메인 게임 루프입니다.
    -   사용자 입력(`movement` 객체)에 따라 거북이의 다음 위치를 계산합니다.
    -   벽 충돌 및 장애물 충돌을 검사하고, 충돌 시 `endGame()`을 호출합니다.
    -   충돌이 없으면 거북이의 위치와 방향(좌우 반전)을 업데이트합니다.
    -   리본 아이템과의 충돌을 검사하고, 충돌 시 `updateScore()` 및 `collectRibbon()`을 호출합니다.
-   **이벤트 리스너**:
    -   `keydown`, `keyup`: 키보드 입력을 감지하여 `movement` 객체의 상태를 업데이트합니다. 게임 오버/성공 시 Enter 키로 재시작 기능도 처리합니다.
    -   `restartButton`, `restartButtonSuccess`: '다시 시작' 버튼 클릭 시 `initializeGame()`을 호출합니다.
    -   `resize`: 브라우저 창 크기 변경 시 게임 영역 크기를 업데이트하고, 게임 중이거나 성공 화면이 표시된 경우 거북이 위치를 적절히 조정합니다.

## 추가 개선 아이디어

-   **사운드 효과**: 리본 획득, 충돌, 게임 시작/종료 시 효과음 추가.
-   **배경 음악**: 게임 플레이 중 배경 음악 재생.
-   **다양한 아이템**: 속도 증가/감소 아이템, 점수 두 배 아이템 등.
-   **레벨 시스템**: 점수가 오르거나 특정 조건을 만족하면 난이도(장애물 개수 증가, 거북이 속도 변경 등)가 변하는 레벨 시스템 도입.
-   **거북이 애니메이션**: 이동 시 다리 움직임 등 좀 더 디테일한 애니메이션 추가.
-   **터치 컨트롤**: 모바일 장치를 위한 터치 기반 조작 추가.
-   **최고 점수 저장**: 로컬 스토리지를 사용하여 최고 점수를 기록하고 표시.
-   **시작 화면**: 게임 시작 전 간단한 안내나 시작 버튼이 있는 화면 추가.